

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>
      
        Post Sprint Report: LFE Experience -
      
      LFE Tutorials, News, &amp; Updates
    </title>
    <meta name="description" content="A frist-encounter with LFE from an Erlang appreciator with a Lisp background.">
    <meta name="author" content="LFElluminati | Alien Alliance">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="/assets/themes/hooligan/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/hooligan/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/assets/themes/hooligan/css-social-buttons/css/zocial.stripped.css">
    <link href="/assets/themes/hooligan/css/pygments.css" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/hooligan/css/darkstrap.css" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/hooligan/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/css/twilight.css" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/css/overrides.css" rel="stylesheet" type="text/css" media="all">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="LFE News & Updates Atom Feed">
    <link rel="shortcut icon" href="/assets/images/favicon.ico">
    <!-- fav and touch icons -->
    <!-- Update these with your own images
      <link rel="apple-touch-icon" href="assets/images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="assets/images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="assets/images/apple-touch-icon-114x114.png">
    -->
  </head>

  <body>
    <div id="page-wrap">
      <div class="navbar">
        <div class="navbar-inner">
          <div class="container">
            <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>

	    <a class="brand" href="/"><img style="float: left; padding-right: 8px;" src="/assets/images/LispFlavoredErlang-xtinsy.png" /> LFE Tutorials, News, &amp; Updates</a>

            <div class="nav-collapse">
              <ul class="nav">
                
                
                


  
    
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  
    
      
    
  



		<li><a href="http://docs.lfe.io/">Docs</a></li>
		<li><a href="http://lfe.io/">lfe.io</a></li>
              </ul>
              <ul class="nav pull-right social visible-desktop">
                <li class="divider-vertical"></li>
                
                <li>
                  <a href="http://webchat.freenode.net/?channels=erlang-lisp" style="color: #999; font-size: 180%; margin-top: 3px;" target="_blank">
                    <span class=""> #</span>
                  </a>
                </li>
                
                
                <li>
                  <a href="https://github.com/lfe" class="zocial github icon" target="_blank">
                    <span class="hidden-desktop">Github</span>
                  </a>
                </li>
                
                
                <li>
                  <a href="https://plus.google.com/u/1/communities/103919485468949397234" class="zocial googleplus icon" target="_blank">
                    <span class="hidden-desktop">Google+</span>
                  </a>
                </li>
                
                
                <li>
                  <a href="https://twitter.com/ErlangLisp" class="zocial twitter icon" target="_blank">
                    <span class="hidden-desktop">Twitter</span>
                  </a>
                </li>
                
                
                
                
                <li>
                  <a href="http://feeds.feedburner.com/lfe/news-and-updates" class="zocial rss icon" target="_blank">
                    <span class="hidden-desktop">FeedBurner</span>
                  </a>
                </li>
                
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="container">
        <div class="content">
          

<div class="page-header">
  <h1>
    Post Sprint Report: LFE Experience 
    
  </h1>
</div>

<div class="row">
  <div class="span8">
    
<p><a href="/assets/images/posts/LispFlavoredErlang-medium-square.png"><img class="right small" src="/assets/images/posts/LispFlavoredErlang-medium-square.png" /></a>My
team and I have just finished our first major sprint using LFE and I thought
this would be a good time to report on our experience. Our stack is built around
<a href="http://yaws.hyber.org/">YAWS</a> and we are using MySQL as the database. We’re not
using any templating language, but instead relying on an API-based architecture
with all front-end interactions in JavaScript + HTML.</p>

<h2 id="introduction">Introduction</h2>

<p>We are a small team of developers who are trying to get a pretty major web
application launched in 12 weeks. This is a challenge in its own right, but
as we were evaluating web platforms, we ended up rejecting most others in
favor of Erlang. The choice was made collectively by all the devs who
evaluated all of our different options (the others being PHP, node.js,
Clojure, Scala, Haskell).  We picked Erlang primarily for the scalability,
reliability and ecosystem support.</p>

<p>Of the team, I am the only experienced Lisper (Scheme, Racket, CL). I was
naturally attracted to LFE because of the philosophy of staying close to
Erlang, but still being a Lisp. I further made the decision that at least
some people would use LFE for development, perhaps mixed with Erlang. So we
now have a team that is learning Erlang and LFE at the same time. The devs
are all very competent, but this learning curve is our biggest risk at this
point. It is my hope that LFE will help us transcend the learning curve.
There are some indications that this is happening, but I will know more
for sure in a few more days.</p>

<h2 id="the-good">The Good</h2>

<ol>
  <li>
    <p>I am impressed at the correctness of the implementation. I have not
seen unpredictable behavior yet and have unearthed no major correctness
issues in the language implementation. Kudos to the team for that!</p>
  </li>
  <li>
    <p>I like the closeness to Erlang. Being able to mindlessly call Erlang
modules is a huge plus. Including .hrl files and having the records
available in the defrecord form is very convenient. While I am no Erlang
expert, I find converting cut and pasted Erlang code to LFE quite easy.
So far, I only had a little bit of trouble with Bit comprehensions on
that front. But, I suspect that is more because I am new to Erlang.</p>
  </li>
  <li>
    <p>The compiler seems fast enough, but I’ll know more as the number of
source files grow.</p>
  </li>
</ol>

<h2 id="the-moderately-good">The Moderately Good</h2>

<ol>
  <li>
    <p><strong>Documentation</strong>: … It exists, but things are hard to find. I realize
this is a work in progress and hopefully we will be able to help in some
ways.</p>
  </li>
  <li>
    <p><strong>The LFE REPL</strong>: I was thankful for it for understanding behavior which
was not in the documentation or if I was too lazy to look it up.</p>
  </li>
  <li>
    <p><strong>Unit Test Framework</strong>: Useful for many cases, but it took me a while to
get it working correctly. I had trouble understanding test outputs,
and the inability to isolate runs to specific tests was a little painful.</p>
  </li>
</ol>

<h2 id="the-frustrations">The Frustrations</h2>

<p>Please bear with me on this. Not all of this relates to LFE entirely, but I
feel it better to list it here in case LFE can have better solutions. The
section is bigger because I’m trying to give all the gory details.</p>

<h3 id="the-macro-system">The Macro System</h3>

<p>About 80% of the code I wrote in the past 10 days is for macros. It was a
painful experience.</p>

<ul>
  <li>
    <p>The biggest problem is that the macro system does not report errors properly.
If an expansion encounters an error, all that the compiler reports is
something like “could not expand form”. Or, even more frustratingly
“bad application”. No other information is provided about what the error
was and where it arose. This was true in the LFE REPL as well. It would
REALLY <em>REALLY</em> help if the underlying error is reported.</p>
  </li>
  <li>
    <p>I got around these issues by writing helper functions which I could debug
in the repl, but it took me a while to settle on this methodology. It
makes my macros a trivial shell over a helper function, which makes for
uglier code.</p>
  </li>
</ul>

<p>Note, however, the macro system works correctly once the macros are debugged. There are no issues with correctness.</p>

<h3 id="stringsbinary-complexity">Strings/Binary Complexity</h3>

<p>My ideal situation here would be that LFE provide a mechanism for letting
developers choose to always use Erlang binaries. We are
<a href="https://groups.google.com/d/msg/lisp-flavoured-erlang/pF4retTadzw/bwmz6a6BNZYJ">currently discussing exactly this</a>
on the mail list.</p>

<h3 id="erlangs-formatted-io">Erlang’s Formatted I/O</h3>

<p>Given my long exposure to Common Lisp’s format, I feel that <code>"~p"</code> is woefully
inadequate. One of my resolutions is to contribute a CL compatible format
function to LFE. I would love to collaborate with anyone who is interested
in this.</p>

<h3 id="one-right-way">One Right Way</h3>

<p>One other thing on my wish-list would be that LFE be a little more opinionated
on syntax choices. Allowing multiple ways to define functions etc., while
helpful to lazy old goats like me, probably complicates the language more
than necessary. It may be best left to user-defined macros to provide
alternatives.</p>

<h2 id="closing-thoughts">Closing Thoughts</h2>

<p>Anyhow, that is all for now. More as things develop. Congratulations on
getting LFE this far.</p>

<p>I am working on a document called “LFE for Erlang programmers”, which I will
publish to this group as soon as it reaches some level of stability.</p>


    <hr>
    <div class="pagination btn-group">
      
        <a class="btn prev" href="/archeology/2014/12/15/1848-byte-august-1979-the-lisp-issue" title="BYTE, August 1979: The LISP Issue">&larr; Previous</a>
      
        <a class="btn" href="/archive.html">Archive</a>
      
        <a class="btn next" href="/tutorials/2014/12/22/1722-scientific-computing-on-the-erlang-vm" title="Scientific Computing on the Erlang VM">Next &rarr;</a>
      
    </div>
    <hr>
    
  </div>
  
  <div class="span4">
    <section>
      <h4>Author</h4>
      <div class="author"><span>Anurag Mendhekar</span></div>
    </section>
    <section>
      <h4>Published</h4>
      <div class="date"><span>17 December 2014</span></div>
    </section>
    
      <section>
        <h4>Category</h4>
        <span class="category">
          reports
        </span>
      </section>
         
    
      <section>
        <h4>Tags</h4>
        <ul class="tag_box">
          
          


  
     
    	<li><a href="/tags.html#community-ref">community <span>3</span></a></li>
     
    	<li><a href="/tags.html#engineering teams-ref">engineering teams <span>1</span></a></li>
     
    	<li><a href="/tags.html#lfe in the wild-ref">lfe in the wild <span>1</span></a></li>
     
    	<li><a href="/tags.html#ux-ref">ux <span>1</span></a></li>
    
  



        </ul>
      </section>
             
  </div>
</div>


        </div>
      </div> <!-- /container -->

      <div class="footer-push"></div>
    </div><!--/.page-wrap -->

    <footer>
      <div class="container">
        <p>&copy; 2014 LFElluminati | Alien Alliance
        </p>
      </div>
    </footer>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/assets/themes/hooligan/js/jquery.min.js"><\/script>')</script>
    <script src="/assets/themes/hooligan/bootstrap/js/bootstrap.min.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-38274766-2', 'auto');
      ga('send', 'pageview');

    </script>
  </body>
</html>

